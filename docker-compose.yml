version: "3.1"

networks:
  yapper:
    external: false

services:

  TraefikGateway:
    container_name: TraefikGateway
    image: traefik:v3.0
    command: --api.insecure=true --providers.docker
    ports:
      - "80:80"
      - "8080:8080"
    volumes:
      # So that Traefik can listen to the Docker events
      - /var/run/docker.sock:/var/run/docker.sock
    networks:
      - yapper

  MongoDBPosts:
    container_name: MongoDBPosts
    image: mongo:latest
    restart: always
    hostname: MongoDBPosts
    ports:
      - "27017:27017"
    networks:
      - yapper
